<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>To-Do List â€¢ Smart Assistant</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        :root{
            --blue-dark:#0A1931;
            --blue-primary:#1A3D63;
            --blue-secondary:#4A7FA7;
            --blue-light:#B3CFE5;
            --blue-bg:#F4F9FD;
        }

        body{
            background: linear-gradient(135deg,var(--blue-light),var(--blue-bg));
            min-height:100vh;
            padding:20px;
            font-family:"Segoe UI",sans-serif;
        }

        .cute-card{
            border-radius:18px;
            background:#ffffff;
            padding:25px;
            border:2px solid var(--blue-light);
            box-shadow:0 8px 25px rgba(26,61,99,.25);
            transition:0.3s ease;
        }

        .cute-card:hover{
            transform:translateY(-4px);
            box-shadow:0 12px 30px rgba(26,61,99,.35);
        }

        .cute-title{
            font-weight:700;
            font-size:24px;
            color:var(--blue-primary);
        }

        .icon{
            font-size:24px;
            margin-right:6px;
            color:var(--blue-secondary);
        }

        .form-control,
        .form-select{
            border-radius:14px;
            border:1px solid var(--blue-light);
            background:var(--blue-bg);
        }

        .form-control:focus,
        .form-select:focus{
            border-color:var(--blue-secondary);
            box-shadow:0 0 0 0.15rem rgba(74,127,167,.4);
        }

        .btn-blue{
            background:linear-gradient(135deg,var(--blue-secondary),var(--blue-primary));
            color:white;
            border-radius:12px;
            border:none;
        }

        .btn-blue:hover{
            background:linear-gradient(135deg,var(--blue-primary),var(--blue-dark));
            color:white;
        }

        .completed{
            text-decoration:line-through;
            opacity:0.6;
            color:#666;
        }

        .list-group-item{
            border-radius:12px !important;
            margin-bottom:8px;
            background:var(--blue-bg);
            border:1px solid var(--blue-light);
        }

        .task-meta{
            font-size:12px;
            color:var(--blue-secondary);
        }

        .action-btns .btn{
            border-radius:10px;
        }
    </style>
</head>

<body>

<body>
<a href="javascript:history.back()" class="btn btn-outline-primary mb-3">â¬… Back</a>


<div class="container">

    <!-- Add Task -->
    <div class="cute-card mb-4">
        <h3 class="cute-title mb-3">
            <span class="icon">âž•</span> Add Task
        </h3>

        <form method="POST">
            <div class="row g-2">

                <div class="col-md-6">
                    <input name="new_task" class="form-control" placeholder="Write a task..." required>
                </div>

                <div class="col-md-2">
                    <select name="category" class="form-select">
                        {% for c in categories %}
                            <option>{{ c }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col-md-2">
                    <select name="priority" class="form-select">
                        {% for p in priorities %}
                            <option>{{ p }}</option>
                        {% endfor %}
                    </select>
                </div>

                <div class="col-md-2">
                    <input type="date" name="due_date" class="form-control">
                </div>

                <div class="col-12">
                    <button class="btn-blue w-100 mt-2">
                        âž• Add Task
                    </button>
                </div>

            </div>
        </form>
    </div>

    <!-- Task List -->
    <div class="cute-card">
        <h4 class="cute-title mb-3">
            <span class="icon">ðŸ“‹</span> Tasks
        </h4>

        {% if tasks %}
            <ul class="list-group">
                {% for t in tasks %}
                    <li class="list-group-item d-flex justify-content-between align-items-center">

                        <div>
                            <span class="{% if t[2] == 1 %}completed{% endif %}">
                                {{ t[1] }}
                            </span>
                            <br>
                            <span class="task-meta">
                                {{ t[3] }} â€¢ {{ t[4] }} â€¢ {{ t[5] }}
                            </span>
                        </div>

                        <div class="action-btns">
                            <a href="/toggle/{{ t[0] }}/{{ t[2] }}" class="btn btn-sm btn-success">âœ“</a>
                            <a href="/edit/{{ t[0] }}" class="btn btn-sm btn-warning">Edit</a>
                            <a href="/delete/{{ t[0] }}" class="btn btn-sm btn-danger">Delete</a>
                        </div>

                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p class="text-muted">No tasks found</p>
        {% endif %}
    </div>

</div>

</body>

</html>
