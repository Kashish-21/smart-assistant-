<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Transactions • Smart Assistant</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body {
  background: linear-gradient(135deg, #B3CFE5, #F6FAFD);
  font-family: "Segoe UI", sans-serif;
  padding: 30px;
}

.card-box {
  background: white;
  border-radius: 18px;
  padding: 20px;
  border: 2px solid #B3CFE5;
  box-shadow: 0 6px 20px rgba(26,61,99,0.2);
}

.btn-blue {
  background: linear-gradient(135deg, #4A7FA7, #1A3D63);
  color: white;
  border: none;
}

.btn-blue:hover {
  background: linear-gradient(135deg, #1A3D63, #0A1931);
}
</style>
</head>

<body>

<a href="/expenses" class="btn btn-outline-dark mb-4">⬅ Back to Dashboard</a>

<div class="container">
<div class="row g-4">

<!-- ADD TRANSACTION -->
<div class="col-lg-4">
<div class="card-box">
<h5>Add Transaction</h5>

<form method="POST">
  <select name="type" class="form-select mb-2">
    <option value="expense">Expense</option>
    <option value="income">Income</option>
  </select>

  <input type="number" step="0.01" name="amount" class="form-control mb-2" placeholder="Amount" required>

  <select name="category_id" class="form-select mb-2">
    <option value="">Uncategorized</option>
    {% for c in categories %}
      <option value="{{ c.id }}">{{ c.name }}</option>
    {% endfor %}
  </select>

  <input type="date" name="date" class="form-control mb-2" required>
  <input type="text" name="payment_method" class="form-control mb-2" placeholder="Payment method">
  <input type="text" name="description" class="form-control mb-2" placeholder="Description">

  <button class="btn btn-blue w-100">Add</button>
</form>
</div>
</div>

<!-- TRANSACTION LIST -->
<div class="col-lg-8">
<div class="card-box">
<h5>All Transactions</h5>

{% if transactions %}
<table class="table table-hover mt-3">
<thead>
<tr>
<th>Date</th>
<th>Type</th>
<th>Amount</th>
<th>Category</th>
<th>Action</th>
</tr>
</thead>

<tbody>
{% for t in transactions %}
<tr>
<td>{{ t.date }}</td>
<td>{{ t.type }}</td>
<td>₹{{ t.amount }}</td>
<td>{{ t.category or 'Uncategorized' }}</td>
<td>
<a href="/transactions/delete/{{ t.id }}" class="btn btn-sm btn-danger">Delete</a>
</td>
</tr>
{% endfor %}
</tbody>
</table>
{% else %}
<p class="text-muted">No transactions found.</p>
{% endif %}

</div>
</div>

</div>
</div>

</body>
</html>
